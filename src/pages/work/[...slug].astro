---
export const prerender = true

import { type CollectionEntry, getCollection, render } from "astro:content"

import Layout from "@/layouts/Layout.astro"
import { Image } from "astro:assets"

type Work = CollectionEntry<"work">
interface Props {
  entry: Work
}

export async function getStaticPaths() {
  const work = await getCollection("work")
  return work.map((entry: Work) => ({
    params: { slug: entry.id },
    props: { entry },
  }))
}

const { entry } = Astro.props
const { Content } = await render(entry)
---

<Layout
  ><div class="flex flex-col items-center justify-center gap-52 pt-40">
    <Image src={entry.data.banner.src} alt="" class="my-class" />
    <div class="content rounded-lg p-8 backdrop-blur">
      <Content />
    </div>
  </div>

  <style>
    .content {
      max-width: 65ch;
      margin-inline: auto;
    }

    .content > :global(* + *) {
      margin-top: 1rem;
    }

    .content :global(h1),
    .content :global(h2),
    .content :global(h3),
    .content :global(h4),
    .content :global(h5) {
      font-weight: 600;
      margin: 1.5rem 0;
    }

    .content :global(img) {
      border-radius: 1.5rem;
      box-shadow: var(--shadow-sm);
      background: var(--gradient-subtle);
      border: 1px solid var(--gray-800);
    }

    .content :global(blockquote) {
      font-size: var(--text-lg);
      font-family: var(--font-brand);
      font-weight: 600;
      line-height: 1.1;
      padding-inline-start: 1.5rem;
      border-inline-start: 0.25rem solid var(--accent-dark);
      color: var(--gray-0);
    }
  </style>
</Layout>
